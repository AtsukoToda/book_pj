{"remainingRequest":"/Users/atsukotoda/Desktop/book-api/book-pj/node_modules/babel-loader/lib/index.js!/Users/atsukotoda/Desktop/book-api/book-pj/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/atsukotoda/Desktop/book-api/book-pj/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/atsukotoda/Desktop/book-api/book-pj/src/App.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/atsukotoda/Desktop/book-api/book-pj/src/App.vue","mtime":1626406264800},{"path":"/Users/atsukotoda/Desktop/book-api/book-pj/node_modules/cache-loader/dist/cjs.js","mtime":1624522382349},{"path":"/Users/atsukotoda/Desktop/book-api/book-pj/node_modules/babel-loader/lib/index.js","mtime":1624522382353},{"path":"/Users/atsukotoda/Desktop/book-api/book-pj/node_modules/cache-loader/dist/cjs.js","mtime":1624522382349},{"path":"/Users/atsukotoda/Desktop/book-api/book-pj/node_modules/vue-loader/lib/index.js","mtime":1624522393620}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmRlc2NyaXB0aW9uLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zcGxpY2UuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgSGVhZGVyIGZyb20gIi4uL3NyYy9nbG9iYWwvSGVhZGVyLnZ1ZSI7CmltcG9ydCBGb290ZXIgZnJvbSAiLi4vc3JjL2dsb2JhbC9Gb290ZXIudnVlIjsKdmFyIFNUT1JBR0VfS0VZID0gImJvb2siOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkFwcCIsCiAgY29tcG9uZW50czogewogICAgSGVhZGVyOiBIZWFkZXIsCiAgICBGb290ZXI6IEZvb3RlcgogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGJvb2tzOiBbXSwKICAgICAgbmV3Qm9vazogbnVsbAogICAgfTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICBpZiAobG9jYWxTdG9yYWdlLmdldEl0ZW0oU1RPUkFHRV9LRVkpKSB7CiAgICAgIHRyeSB7CiAgICAgICAgdGhpcy5ib29rcyA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oU1RPUkFHRV9LRVkpKTsKICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKFNUT1JBR0VfS0VZKTsKICAgICAgfQogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgYWRkQm9vazogZnVuY3Rpb24gYWRkQm9vayhlKSB7CiAgICAgIHRoaXMuYm9va3MucHVzaCh7CiAgICAgICAgaWQ6IHRoaXMuYm9va3MubGVuZ3RoLAogICAgICAgIHRpdGxlOiBlLnRpdGxlLAogICAgICAgIGltYWdlOiBlLmltYWdlLAogICAgICAgIGRlc2NyaXB0aW9uOiBlLmRlc2NyaXB0aW9uLAogICAgICAgIHJlYWREYXRlOiAnJywKICAgICAgICBtZW1vOiAnJwogICAgICB9KTsgLy8gdGhpcy5uZXdCb29rID0gIiI7CgogICAgICB0aGlzLnNhdmVCb29rcygpOwogICAgICBjb25zb2xlLmxvZzsKICAgICAgdGhpcy5nb1RvRWRpdHBhZ2UodGhpcy5ib29rcy5zbGljZSgtMSlbMF0uaWQpOwogICAgfSwKICAgIHJlbW92ZUJvb2s6IGZ1bmN0aW9uIHJlbW92ZUJvb2soeCkgewogICAgICB0aGlzLmJvb2tzLnNwbGljZSh4LCAxKTsKICAgICAgdGhpcy5zYXZlQm9va3MoKTsKICAgIH0sCiAgICBzYXZlQm9va3M6IGZ1bmN0aW9uIHNhdmVCb29rcygpIHsKICAgICAgdmFyIHBhcnNlZCA9IEpTT04uc3RyaW5naWZ5KHRoaXMuYm9va3MpOwogICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShTVE9SQUdFX0tFWSwgcGFyc2VkKTsKICAgIH0sCiAgICB1cGRhdGVCb29rSW5mbzogZnVuY3Rpb24gdXBkYXRlQm9va0luZm8oZSkgewogICAgICB2YXIgdXBkYXRlSW5mbyA9IHsKICAgICAgICBpZDogZS5pZCwKICAgICAgICByZWFkRGF0ZTogZS5yZWFkRGF0ZSwKICAgICAgICBtZW1vOiBlLm1lbW8sCiAgICAgICAgdGl0bGU6IHRoaXMuYm9va3NbZS5pZF0udGl0bGUsCiAgICAgICAgaW1hZ2U6IHRoaXMuYm9va3NbZS5pZF0uaW1hZ2UsCiAgICAgICAgZGVzY3JpcHRpb246IHRoaXMuYm9va3NbZS5pZF0uZGVzY3JpcHRpb24KICAgICAgfTsKICAgICAgdGhpcy5ib29rcy5zcGxpY2UoZS5pZCwgMSwgdXBkYXRlSW5mbyk7CiAgICAgIHRoaXMuc2F2ZUJvb2tzKCk7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvJyk7CiAgICB9LAogICAgZ29Ub0VkaXRwYWdlOiBmdW5jdGlvbiBnb1RvRWRpdHBhZ2UoaWQpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi9lZGl0LyIuY29uY2F0KGlkKSk7CiAgICB9LAogICAgZGVsZXRlTG9jYWxTdG9yYWdlOiBmdW5jdGlvbiBkZWxldGVMb2NhbFN0b3JhZ2UoKSB7CiAgICAgIHZhciBpc0RlbGV0ZWQgPSAn44OH44O844K/44KS5YmK6Zmk44GX44Gm44KC44GE44GE44Gn44GZ44GL77yfJzsKCiAgICAgIGlmICh3aW5kb3cuY29uZmlybShpc0RlbGV0ZWQpKSB7CiAgICAgICAgbG9jYWxTdG9yYWdlLmxvY2FsU3RvcmFnZS5zZXRJdGVtKFNUT1JBR0VfS0VZLCAnJyk7CiAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oU1RPUkFHRV9LRVkpOwogICAgICAgIHRoaXMuYm9va3MgPSBbXTsKICAgICAgfQogICAgfQogIH0KfTs="},{"version":3,"sources":["App.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AAiBA,OAAA,MAAA,MAAA,0BAAA;AACA,OAAA,MAAA,MAAA,0BAAA;AACA,IAAA,WAAA,GAAA,MAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,KADA;AAGA,EAAA,UAAA,EAAA;AACA,IAAA,MAAA,EAAA,MADA;AAEA,IAAA,MAAA,EAAA;AAFA,GAHA;AAOA,EAAA,IAPA,kBAOA;AACA,WAAA;AACA,MAAA,KAAA,EAAA,EADA;AAEA,MAAA,OAAA,EAAA;AAFA,KAAA;AAIA,GAZA;AAaA,EAAA,OAbA,qBAaA;AACA,QAAA,YAAA,CAAA,OAAA,CAAA,WAAA,CAAA,EAAA;AACA,UAAA;AACA,aAAA,KAAA,GAAA,IAAA,CAAA,KAAA,CAAA,YAAA,CAAA,OAAA,CAAA,WAAA,CAAA,CAAA;AACA,OAFA,CAEA,OAAA,CAAA,EAAA;AACA,QAAA,YAAA,CAAA,UAAA,CAAA,WAAA;AACA;AACA;AACA,GArBA;AAsBA,EAAA,OAAA,EAAA;AACA,IAAA,OADA,mBACA,CADA,EACA;AACA,WAAA,KAAA,CAAA,IAAA,CAAA;AACA,QAAA,EAAA,EAAA,KAAA,KAAA,CAAA,MADA;AAEA,QAAA,KAAA,EAAA,CAAA,CAAA,KAFA;AAGA,QAAA,KAAA,EAAA,CAAA,CAAA,KAHA;AAIA,QAAA,WAAA,EAAA,CAAA,CAAA,WAJA;AAKA,QAAA,QAAA,EAAA,EALA;AAMA,QAAA,IAAA,EAAA;AANA,OAAA,EADA,CASA;;AACA,WAAA,SAAA;AACA,MAAA,OAAA,CAAA,GAAA;AACA,WAAA,YAAA,CAAA,KAAA,KAAA,CAAA,KAAA,CAAA,CAAA,CAAA,EAAA,CAAA,EAAA,EAAA;AACA,KAdA;AAeA,IAAA,UAfA,sBAeA,CAfA,EAeA;AACA,WAAA,KAAA,CAAA,MAAA,CAAA,CAAA,EAAA,CAAA;AACA,WAAA,SAAA;AACA,KAlBA;AAmBA,IAAA,SAnBA,uBAmBA;AACA,UAAA,MAAA,GAAA,IAAA,CAAA,SAAA,CAAA,KAAA,KAAA,CAAA;AACA,MAAA,YAAA,CAAA,OAAA,CAAA,WAAA,EAAA,MAAA;AACA,KAtBA;AAuBA,IAAA,cAvBA,0BAuBA,CAvBA,EAuBA;AACA,UAAA,UAAA,GAAA;AACA,QAAA,EAAA,EAAA,CAAA,CAAA,EADA;AAEA,QAAA,QAAA,EAAA,CAAA,CAAA,QAFA;AAGA,QAAA,IAAA,EAAA,CAAA,CAAA,IAHA;AAIA,QAAA,KAAA,EAAA,KAAA,KAAA,CAAA,CAAA,CAAA,EAAA,EAAA,KAJA;AAKA,QAAA,KAAA,EAAA,KAAA,KAAA,CAAA,CAAA,CAAA,EAAA,EAAA,KALA;AAMA,QAAA,WAAA,EAAA,KAAA,KAAA,CAAA,CAAA,CAAA,EAAA,EAAA;AANA,OAAA;AAQA,WAAA,KAAA,CAAA,MAAA,CAAA,CAAA,CAAA,EAAA,EAAA,CAAA,EAAA,UAAA;AACA,WAAA,SAAA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA,GAAA;AACA,KAnCA;AAoCA,IAAA,YApCA,wBAoCA,EApCA,EAoCA;AACA,WAAA,OAAA,CAAA,IAAA,iBAAA,EAAA;AACA,KAtCA;AAuCA,IAAA,kBAvCA,gCAuCA;AACA,UAAA,SAAA,GAAA,iBAAA;;AACA,UAAA,MAAA,CAAA,OAAA,CAAA,SAAA,CAAA,EAAA;AACA,QAAA,YAAA,CAAA,YAAA,CAAA,OAAA,CAAA,WAAA,EAAA,EAAA;AACA,QAAA,YAAA,CAAA,UAAA,CAAA,WAAA;AACA,aAAA,KAAA,GAAA,EAAA;AACA;AACA;AA9CA;AAtBA,CAAA","sourcesContent":["<template>\n  <v-app>\n    <Header \n    @delete-local-storage=\"deleteLocalStorage\"/>\n    <v-main>\n      <v-container>\n        <router-view \n        :books=\"books\"\n        @add-book-list=\"addBook\"\n        @update-book-info=\"updateBookInfo\"/>\n      </v-container>\n    </v-main>\n    <Footer />\n  </v-app>\n</template>\n\n<script>\nimport Header from \"../src/global/Header.vue\";\nimport Footer from \"../src/global/Footer.vue\";\nconst STORAGE_KEY = \"book\";\n\nexport default {\n  name: \"App\",\n\n  components: {\n    Header,\n    Footer,\n  },\n  data() {\n    return {\n      books: [],\n      newBook: null,\n    };\n  },\n  mounted() {\n    if (localStorage.getItem(STORAGE_KEY)) {\n      try {\n        this.books = JSON.parse(localStorage.getItem(STORAGE_KEY));\n      } catch (e) {\n        localStorage.removeItem(STORAGE_KEY);\n      }\n    }\n  },\n  methods: {\n    addBook(e) {\n      this.books.push({\n        id:this.books.length,\n        title:e.title,\n        image:e.image,\n        description:e.description,\n        readDate:'',\n        memo:'',\n      });\n      // this.newBook = \"\";\n      this.saveBooks();\n      console.log\n      this.goToEditpage(this.books.slice(-1)[0].id)\n    },\n    removeBook(x) {\n      this.books.splice(x, 1);\n      this.saveBooks();\n    },\n    saveBooks() {\n      const parsed = JSON.stringify(this.books);\n      localStorage.setItem(STORAGE_KEY, parsed);\n    },\n    updateBookInfo(e){\n      const updateInfo ={\n        id:e.id,\n        readDate:e.readDate,\n        memo:e.memo,\n        title:this.books[e.id].title,\n        image:this.books[e.id].image,\n        description:this.books[e.id].description,\n      }\n      this.books.splice(e.id,1,updateInfo)\n      this.saveBooks()\n      this.$router.push('/')\n    },\n    goToEditpage(id){\n      this.$router.push(`/edit/${id}`)\n    },\n    deleteLocalStorage(){\n      const isDeleted ='データを削除してもいいですか？'\n      if(window.confirm(isDeleted)){\n        localStorage.localStorage.setItem(STORAGE_KEY, '');\n        localStorage.removeItem(STORAGE_KEY)\n        this.books=[]\n      }\n    },\n  },\n};\n</script>\n"],"sourceRoot":"src"}]}