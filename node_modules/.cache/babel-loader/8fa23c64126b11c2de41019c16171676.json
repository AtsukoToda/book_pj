{"remainingRequest":"/Users/atsukotoda/Desktop/book-api/book-pj/node_modules/babel-loader/lib/index.js!/Users/atsukotoda/Desktop/book-api/book-pj/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/atsukotoda/Desktop/book-api/book-pj/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/atsukotoda/Desktop/book-api/book-pj/src/pages/BookSearch.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/atsukotoda/Desktop/book-api/book-pj/src/pages/BookSearch.vue","mtime":1626405850723},{"path":"/Users/atsukotoda/Desktop/book-api/book-pj/node_modules/cache-loader/dist/cjs.js","mtime":1624522382349},{"path":"/Users/atsukotoda/Desktop/book-api/book-pj/node_modules/babel-loader/lib/index.js","mtime":1624522382353},{"path":"/Users/atsukotoda/Desktop/book-api/book-pj/node_modules/cache-loader/dist/cjs.js","mtime":1624522382349},{"path":"/Users/atsukotoda/Desktop/book-api/book-pj/node_modules/vue-loader/lib/index.js","mtime":1624522393620}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIGZyb20gIi9Vc2Vycy9hdHN1a290b2RhL0Rlc2t0b3AvYm9vay1hcGkvYm9vay1wai9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICIvVXNlcnMvYXRzdWtvdG9kYS9EZXNrdG9wL2Jvb2stYXBpL2Jvb2stcGovbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLnVybC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN5bWJvbC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN5bWJvbC5kZXNjcmlwdGlvbi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNsaWNlLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJCb29rc2VyY2giLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBrZXl3b3JkOiAiIiwKICAgICAgc2VhcmNocmVzdWx0czogW10KICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBhZGRCb29rTGlzdDogZnVuY3Rpb24gYWRkQm9va0xpc3QoaW5kZXgpIHsKICAgICAgdGhpcy4kZW1pdCgnYWRkLWJvb2stbGlzdCcsIHRoaXMuc2VhcmNocmVzdWx0c1tpbmRleF0pOwogICAgfSwKICAgIHNlYXJjaDogZnVuY3Rpb24gc2VhcmNoKGtleXdvcmQpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIGJhc2VVcmwsIHBhcmFtcywgcXVlcnlQYXJhbXMsIHJlc3BvbnNlLCBfaXRlcmF0b3IsIF9zdGVwLCBib29rLCB0aXRsZSwgaW1nLCBkZXNjcmlwdGlvbjsKCiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX3RoaXMuc2VhcmNocmVzdWx0cyA9IFtdOwogICAgICAgICAgICAgICAgYmFzZVVybCA9ICJodHRwczovL3d3dy5nb29nbGVhcGlzLmNvbS9ib29rcy92MS92b2x1bWVzPyI7CiAgICAgICAgICAgICAgICBwYXJhbXMgPSB7CiAgICAgICAgICAgICAgICAgIHE6ICJpbnRpdGxlOiIuY29uY2F0KGtleXdvcmQpLAogICAgICAgICAgICAgICAgICBtYXhSZXN1bHRzOiA0MAogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIHF1ZXJ5UGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyhwYXJhbXMpOyAvLyAgIGNvbnNvbGUubG9nKGJhc2VVcmwgKyBxdWVyeVBhcmFtcyk7CgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDY7CiAgICAgICAgICAgICAgICByZXR1cm4gZmV0Y2goYmFzZVVybCArIHF1ZXJ5UGFyYW1zKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIC8vICAgY29uc29sZS5sb2cocmVzcG9uc2UuaXRlbXMpOwogICAgICAgICAgICAgICAgX2l0ZXJhdG9yID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIocmVzcG9uc2UuaXRlbXMpOwoKICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgIGZvciAoX2l0ZXJhdG9yLnMoKTsgIShfc3RlcCA9IF9pdGVyYXRvci5uKCkpLmRvbmU7KSB7CiAgICAgICAgICAgICAgICAgICAgYm9vayA9IF9zdGVwLnZhbHVlOwogICAgICAgICAgICAgICAgICAgIHRpdGxlID0gYm9vay52b2x1bWVJbmZvLnRpdGxlOwogICAgICAgICAgICAgICAgICAgIGltZyA9IGJvb2sudm9sdW1lSW5mby5pbWFnZUxpbmtzOwogICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uID0gYm9vay52b2x1bWVJbmZvLmRlc2NyaXB0aW9uOwoKICAgICAgICAgICAgICAgICAgICBfdGhpcy5zZWFyY2hyZXN1bHRzLnB1c2goewogICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IHRpdGxlID8gdGl0bGUgOiAiIiwKICAgICAgICAgICAgICAgICAgICAgIGltYWdlOiBpbWcgPyBpbWcudGh1bWJuYWlsIDogIiIsCiAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogZGVzY3JpcHRpb24gPyBkZXNjcmlwdGlvbi5zbGljZSgwLCA0MCkgOiAiIgogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yLmUoZXJyKTsKICAgICAgICAgICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICAgICAgICAgIF9pdGVyYXRvci5mKCk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["BookSearch.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0CA,eAAA;AACA,EAAA,IAAA,EAAA,WADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,OAAA,EAAA,EADA;AAEA,MAAA,aAAA,EAAA;AAFA,KAAA;AAIA,GAPA;AAQA,EAAA,OAAA,EAAA;AACA,IAAA,WADA,uBACA,KADA,EACA;AACA,WAAA,KAAA,CAAA,eAAA,EAAA,KAAA,aAAA,CAAA,KAAA,CAAA;AACA,KAHA;AAIA,IAAA,MAJA,kBAIA,OAJA,EAIA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AACA,gBAAA,KAAA,CAAA,aAAA,GAAA,EAAA;AACA,gBAAA,OAFA,GAEA,8CAFA;AAGA,gBAAA,MAHA,GAGA;AACA,kBAAA,CAAA,oBAAA,OAAA,CADA;AAEA,kBAAA,UAAA,EAAA;AAFA,iBAHA;AAOA,gBAAA,WAPA,GAOA,IAAA,eAAA,CAAA,MAAA,CAPA,EAQA;;AARA;AAAA,uBAUA,KAAA,CAAA,OAAA,GAAA,WAAA,CAAA,CAAA,IAAA,CAAA,UAAA,QAAA;AAAA,yBACA,QAAA,CAAA,IAAA,EADA;AAAA,iBAAA,CAVA;;AAAA;AAUA,gBAAA,QAVA;AAaA;AAbA,uDAeA,QAAA,CAAA,KAfA;;AAAA;AAeA,sEAAA;AAAA,oBAAA,IAAA;AACA,oBAAA,KADA,GACA,IAAA,CAAA,UAAA,CAAA,KADA;AAEA,oBAAA,GAFA,GAEA,IAAA,CAAA,UAAA,CAAA,UAFA;AAGA,oBAAA,WAHA,GAGA,IAAA,CAAA,UAAA,CAAA,WAHA;;AAIA,oBAAA,KAAA,CAAA,aAAA,CAAA,IAAA,CAAA;AACA,sBAAA,KAAA,EAAA,KAAA,GAAA,KAAA,GAAA,EADA;AAEA,sBAAA,KAAA,EAAA,GAAA,GAAA,GAAA,CAAA,SAAA,GAAA,EAFA;AAGA,sBAAA,WAAA,EAAA,WAAA,GAAA,WAAA,CAAA,KAAA,CAAA,CAAA,EAAA,EAAA,CAAA,GAAA;AAHA,qBAAA;AAKA;AAxBA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAyBA;AA7BA;AARA,CAAA","sourcesContent":["<template>\n  <div>\n    <v-row>\n      <v-col cols=\"6\">\n        <v-text-field label=\"本のタイトルを検索\" v-model=\"keyword\">\n        </v-text-field>\n      </v-col>\n    </v-row>\n    <v-row>\n      <v-col cols=\"3\">\n        <v-btn color=\"primary\" @click=\"search(keyword)\">検索する</v-btn>\n      </v-col>\n      <v-col cols=\"3\">\n        <v-btn color=\"secondary\" to=\"/\">一覧に戻る</v-btn>\n      </v-col>\n    </v-row>\n    <v-row dense>\n      <v-col cols=\"4\" v-for=\"(book, index) in searchresults\" :key=\"book.index\">\n        <v-card>\n          <v-img\n            :src=\"book.image\"\n            class=\"white--text align-end\"\n            gradient=\"to bottom, rgba(0,0,0,.1), rgba(0,0,0,.5)\"\n            height=\"200px\"\n          >\n            <v-card-title v-text=\"book.title\">{{ book.title }}</v-card-title>\n            {{ book.description }}\n          </v-img>\n\n          <v-card-actions>\n            <v-spacer></v-spacer>\n            <v-btn fab dark color=\"indigo\" @click=\"addBookList(index)\">\n              <v-icon dark>mdi-plus</v-icon>\n            </v-btn>\n          </v-card-actions>\n        </v-card>\n      </v-col>\n    </v-row>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"Bookserch\",\n  data() {\n    return {\n      keyword: \"\",\n      searchresults: [],\n    };\n  },\n  methods: {\n      addBookList(index){\n          this.$emit('add-book-list',this.searchresults[index])\n      },\n    async search(keyword) {\n      this.searchresults = [];\n      const baseUrl = \"https://www.googleapis.com/books/v1/volumes?\";\n      const params = {\n        q: `intitle:${keyword}`,\n        maxResults: 40,\n      };\n      const queryParams = new URLSearchParams(params);\n    //   console.log(baseUrl + queryParams);\n\n      const response = await fetch(baseUrl + queryParams).then((response) =>\n        response.json()\n      );\n    //   console.log(response.items);\n\n      for (let book of response.items) {\n        let title = book.volumeInfo.title;\n        let img = book.volumeInfo.imageLinks;\n        let description = book.volumeInfo.description;\n        this.searchresults.push({\n          title: title ? title : \"\",\n          image: img ? img.thumbnail : \"\",\n          description: description ? description.slice(0, 40) : \"\",\n        });\n      }\n    },\n  },\n};\n</script>\n\n<style></style>\n"],"sourceRoot":"src/pages"}]}