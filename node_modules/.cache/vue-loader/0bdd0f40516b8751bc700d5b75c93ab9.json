{"remainingRequest":"/Users/atsukotoda/Desktop/book-api/book-pj/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/atsukotoda/Desktop/book-api/book-pj/src/App.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/atsukotoda/Desktop/book-api/book-pj/src/App.vue","mtime":1626406264800},{"path":"/Users/atsukotoda/Desktop/book-api/book-pj/node_modules/cache-loader/dist/cjs.js","mtime":1624522382349},{"path":"/Users/atsukotoda/Desktop/book-api/book-pj/node_modules/babel-loader/lib/index.js","mtime":1624522382353},{"path":"/Users/atsukotoda/Desktop/book-api/book-pj/node_modules/cache-loader/dist/cjs.js","mtime":1624522382349},{"path":"/Users/atsukotoda/Desktop/book-api/book-pj/node_modules/vue-loader/lib/index.js","mtime":1624522393620}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBIZWFkZXIgZnJvbSAiLi4vc3JjL2dsb2JhbC9IZWFkZXIudnVlIjsKaW1wb3J0IEZvb3RlciBmcm9tICIuLi9zcmMvZ2xvYmFsL0Zvb3Rlci52dWUiOwpjb25zdCBTVE9SQUdFX0tFWSA9ICJib29rIjsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiQXBwIiwKCiAgY29tcG9uZW50czogewogICAgSGVhZGVyLAogICAgRm9vdGVyLAogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGJvb2tzOiBbXSwKICAgICAgbmV3Qm9vazogbnVsbCwKICAgIH07CiAgfSwKICBtb3VudGVkKCkgewogICAgaWYgKGxvY2FsU3RvcmFnZS5nZXRJdGVtKFNUT1JBR0VfS0VZKSkgewogICAgICB0cnkgewogICAgICAgIHRoaXMuYm9va3MgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKFNUT1JBR0VfS0VZKSk7CiAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShTVE9SQUdFX0tFWSk7CiAgICAgIH0KICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGFkZEJvb2soZSkgewogICAgICB0aGlzLmJvb2tzLnB1c2goewogICAgICAgIGlkOnRoaXMuYm9va3MubGVuZ3RoLAogICAgICAgIHRpdGxlOmUudGl0bGUsCiAgICAgICAgaW1hZ2U6ZS5pbWFnZSwKICAgICAgICBkZXNjcmlwdGlvbjplLmRlc2NyaXB0aW9uLAogICAgICAgIHJlYWREYXRlOicnLAogICAgICAgIG1lbW86JycsCiAgICAgIH0pOwogICAgICAvLyB0aGlzLm5ld0Jvb2sgPSAiIjsKICAgICAgdGhpcy5zYXZlQm9va3MoKTsKICAgICAgY29uc29sZS5sb2cKICAgICAgdGhpcy5nb1RvRWRpdHBhZ2UodGhpcy5ib29rcy5zbGljZSgtMSlbMF0uaWQpCiAgICB9LAogICAgcmVtb3ZlQm9vayh4KSB7CiAgICAgIHRoaXMuYm9va3Muc3BsaWNlKHgsIDEpOwogICAgICB0aGlzLnNhdmVCb29rcygpOwogICAgfSwKICAgIHNhdmVCb29rcygpIHsKICAgICAgY29uc3QgcGFyc2VkID0gSlNPTi5zdHJpbmdpZnkodGhpcy5ib29rcyk7CiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFNUT1JBR0VfS0VZLCBwYXJzZWQpOwogICAgfSwKICAgIHVwZGF0ZUJvb2tJbmZvKGUpewogICAgICBjb25zdCB1cGRhdGVJbmZvID17CiAgICAgICAgaWQ6ZS5pZCwKICAgICAgICByZWFkRGF0ZTplLnJlYWREYXRlLAogICAgICAgIG1lbW86ZS5tZW1vLAogICAgICAgIHRpdGxlOnRoaXMuYm9va3NbZS5pZF0udGl0bGUsCiAgICAgICAgaW1hZ2U6dGhpcy5ib29rc1tlLmlkXS5pbWFnZSwKICAgICAgICBkZXNjcmlwdGlvbjp0aGlzLmJvb2tzW2UuaWRdLmRlc2NyaXB0aW9uLAogICAgICB9CiAgICAgIHRoaXMuYm9va3Muc3BsaWNlKGUuaWQsMSx1cGRhdGVJbmZvKQogICAgICB0aGlzLnNhdmVCb29rcygpCiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvJykKICAgIH0sCiAgICBnb1RvRWRpdHBhZ2UoaWQpewogICAgICB0aGlzLiRyb3V0ZXIucHVzaChgL2VkaXQvJHtpZH1gKQogICAgfSwKICAgIGRlbGV0ZUxvY2FsU3RvcmFnZSgpewogICAgICBjb25zdCBpc0RlbGV0ZWQgPSfjg4fjg7zjgr/jgpLliYrpmaTjgZfjgabjgoLjgYTjgYTjgafjgZnjgYvvvJ8nCiAgICAgIGlmKHdpbmRvdy5jb25maXJtKGlzRGVsZXRlZCkpewogICAgICAgIGxvY2FsU3RvcmFnZS5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShTVE9SQUdFX0tFWSwgJycpOwogICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKFNUT1JBR0VfS0VZKQogICAgICAgIHRoaXMuYm9va3M9W10KICAgICAgfQogICAgfSwKICB9LAp9Owo="},{"version":3,"sources":["App.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAiBA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"App.vue","sourceRoot":"src","sourcesContent":["<template>\n  <v-app>\n    <Header \n    @delete-local-storage=\"deleteLocalStorage\"/>\n    <v-main>\n      <v-container>\n        <router-view \n        :books=\"books\"\n        @add-book-list=\"addBook\"\n        @update-book-info=\"updateBookInfo\"/>\n      </v-container>\n    </v-main>\n    <Footer />\n  </v-app>\n</template>\n\n<script>\nimport Header from \"../src/global/Header.vue\";\nimport Footer from \"../src/global/Footer.vue\";\nconst STORAGE_KEY = \"book\";\n\nexport default {\n  name: \"App\",\n\n  components: {\n    Header,\n    Footer,\n  },\n  data() {\n    return {\n      books: [],\n      newBook: null,\n    };\n  },\n  mounted() {\n    if (localStorage.getItem(STORAGE_KEY)) {\n      try {\n        this.books = JSON.parse(localStorage.getItem(STORAGE_KEY));\n      } catch (e) {\n        localStorage.removeItem(STORAGE_KEY);\n      }\n    }\n  },\n  methods: {\n    addBook(e) {\n      this.books.push({\n        id:this.books.length,\n        title:e.title,\n        image:e.image,\n        description:e.description,\n        readDate:'',\n        memo:'',\n      });\n      // this.newBook = \"\";\n      this.saveBooks();\n      console.log\n      this.goToEditpage(this.books.slice(-1)[0].id)\n    },\n    removeBook(x) {\n      this.books.splice(x, 1);\n      this.saveBooks();\n    },\n    saveBooks() {\n      const parsed = JSON.stringify(this.books);\n      localStorage.setItem(STORAGE_KEY, parsed);\n    },\n    updateBookInfo(e){\n      const updateInfo ={\n        id:e.id,\n        readDate:e.readDate,\n        memo:e.memo,\n        title:this.books[e.id].title,\n        image:this.books[e.id].image,\n        description:this.books[e.id].description,\n      }\n      this.books.splice(e.id,1,updateInfo)\n      this.saveBooks()\n      this.$router.push('/')\n    },\n    goToEditpage(id){\n      this.$router.push(`/edit/${id}`)\n    },\n    deleteLocalStorage(){\n      const isDeleted ='データを削除してもいいですか？'\n      if(window.confirm(isDeleted)){\n        localStorage.localStorage.setItem(STORAGE_KEY, '');\n        localStorage.removeItem(STORAGE_KEY)\n        this.books=[]\n      }\n    },\n  },\n};\n</script>\n"]}]}